---
title: '[读论文]自动驾驶编队与LTE D2D通信'
abbrlink: 14647
date: 2019-12-11 16:03:23
tags:
  - 科研
  - 读论文
  - D2D
  - 5G
  - LTE
categories:
  - 读论文
footnote: true
mathjax: true
---

这里选择的文章是 2017 年的文章 [Better Platooning Control Toward Autonomous Driving: An LTE Device-To-Device Communications Strategy That Meets Ultralow Latency Requirements](https://ieeexplore.ieee.org/document/7829297)。文章来自 [Vehicular Technology Magazine](https://ieeexplore.ieee.org/document/7829297) 杂志。这个杂志的影响因子挺高的。从标题来看，作者关注的是 LTE D2D 通信无人驾驶编队的控制问题中的应用。D2D 通信是 5G 引入的一个非常重要的特性。可以说对于物联网应用来说，D2D 能力比起带宽和延时来说更为重要。不过舆论对于这个问题的关注不多。这篇文章是一篇 Magazine，一般 Magazine 文章关注的都是研究趋势，而不是关注特别细节的技术问题。因此仔细阅读这篇文章，可以帮助我们了解车联网 + 5G 研究的一些前沿的思路，而不用陷入很多繁冗的细节问题。

> 看完了文章可以来做一些评论了。最初看这篇文章的目的有两方面，首先是我准备投稿 VTM，因此找来上面的文章看看其风格，而具体而言选择这篇文章，是因为这篇文章涉及的无人驾驶编队问题和 5G D2D 技术都是我比较关心的。
>
> 从文章风格来看，这篇 VTM 还是比较典型的 Magazine 文章风格：即篇幅不长，图片比较多，而几乎没有公式。文章的会有比较大段、详细的研究背景阐述。其提出的协议和机制内容不会特别复杂，也比较少和其他文章的协议进行对比。总结而言，这类文章是选择一个比较新的研究背景，在充分介绍背景问题的基础上，提出一些非常简单的机制，具有 Tutorial 的性质。
>
> 就这篇文章的内容来说，其提出的通信架构其实是非常简单的，模型也非常简单。可见，要写这类 Magazine 文章，提出什么精巧详尽的协议并不是最重要的。最重要的还是要找到非常好的研究场景。

<!--more-->

---

## 研究背景

编队技术是全面实现自动驾驶的第一步，也是 5G 应用的一个非常重要的场景。在编队系统中，编队成员的间距和速度通过自动化系统来进行控制，这种控制的效率和可靠性建立在车间通信的效率（带宽和延时，尤其是延时）和可靠性之上。在这篇文章中我们主要讨论 5G 技术在车辆编队系统中数据分发的应用潜力。文章提出的通信机制可以实现编队通信的超低延迟需求。文章提出的机制的另一个优势是可以实现对 LTE 资源的空间复用。

这里文章主要的想法是使用直接的 D2D 通信来实现车间通信的低延时。在 3GPP (Third Geenration Partnership Project) 中，基于蜂窝网基础设施的 D2D 通信服务被称为 Proximity Services (ProSe)。目前 LTE 技术在 V2X 通信中的应用已经在一些项目中被提出【~文章在这里提到的一个名为 [METIS](https://metis2020.com/) 的项目，不过我查看他们的官网，连一个经过认证的 HTTPS 证书都没有，而且最新的消息只到 2015 年，之后就没有更新了】，且目前正在 3GPP 的讨论进程中。

作者声称在他们的了解中，目前（2017年）还没有针对 LTE-D2D 在编队场景的应用的充分讨论。所以作者提出了一种简单的编队内的基于 D2D 的消息分发策略。这一策略主要采用了下面的概念：

1. 我们提出的策略利用了 Platoon Leader 产生消息的周期性来分配 LTE 资源。
2. 我们利用了编队中车间距离小，所需的传输功率小的特点来实现 LTE 资源在编队成员，编队之间甚至是其他非车辆终端之间的空分复用。

## 相关技术

### 编队技术

一个**编队**可以被定义为一组拥有共同的运动模式，保持一定的队形的一组车辆。通常编队内的成员之间有固定的车间距和统一的速度。编队运行的稳定性依赖于车间信息交换的效率和有效性。车辆的控制系统通过这些共享的信息来调整自己的速度和加速度，从而保持编队结构的稳定。

车间信息同步通过每轮的 Cooperative Awareness Messages (CAMs) 交换来进行。通常信息交换由编队的 Leader (PL) 发起，PL 负责管理所有的编队成员 (PMs)。CAMs 信息交换的周期由 PL 指定，一般是 100 ms 或者更低。

在设计 CAMs 消息的格式和内容的时候需要考虑编队使用的控制策略。例如，在 Predecessor-following 控制策略中，每个车辆只与其前方的车辆通信以了解前方车辆的相对位置。这种策略会导致控制不稳定性的叠加的问题。最末车辆的抖动可能非常大。这一效应可以通过 Predecessor-leader 策略避免。在这一策略中，每个车辆除了获取前方车辆的相对位置，还需要获取 PL 的位置信息。在 Bidirectional 策略中，每个车辆获取其前后车辆的信息用于自身速度调整。不过这种策略在大规模编队系统中控制误差比较大。

编队的性能和稳定性也会高度收到车间通信性能的影响。如果通过 IEEE 802.11 （车联网通信的标准） 交换 CAM 信息，由于其底层使用了 CSMA/CA 协议，这一协议缺乏中心化的资源管理机制，因此难以保证延时和通信的可靠性。

有很多研究针对 IEEE 802.11 提出了改进措施以克服这些问题。在[6]中，一个单独的信道被划分出来用于传输编队信息，从而减少干扰和冲突。不过这种分配方式比较浪费。在[7]中作者提出了一种构筑在 802.11 之上的 TDMA 机制。在[8]中，PL总是以最大的功率 (20 dbm)发送，以覆盖所有的 PM，而每个 PM 以 0 dbm 的功率发送，只需要覆盖其后方的车辆。

上面这些为 802.11 打上无竞争补丁方式提示我们，也许我们需要的是一个新的，中心化资源管理机制。这是 LTE-D2D 能够提供的。

### LTE-D2D

在 LTE 系统中，通信资源是由基站直接管理的。基站的管理以 1 ms 长的传输单元 (Transmission time interval, TTI)进行。在每个 TTI 中，基站会分配若干个正交的 180 kHz 的子带 (subband)。每个 TTI 上的一个 子带，被称为一个资源块 (Resource Band, RB)。D2D 通信模式（也被成为 sidelink)，允许设备在不经过基站或者核心网络的情况下直接进行通行。因此 D2D 技术可以让设备之间的通信达到高速率，低延时，低功耗，以及更高的频谱效率。

D2D 通信可以使用蜂窝网的频段 (InBand)，也可以使用未认证的频段。InBand 通信可以进一步划分为 Underlay 和 Overlay 两个类别。前者蜂窝通信和 D2D 通信共用射频资源；后者 D2D 链接使用专用的射频资源。通过使用合适的资源分配算法，可以减少干扰，并实现 RB 的空分复用。

在这篇文章中，我们使用 InBand Underlay D2D 通信模式来进行 CAM 信息交换。LTE 的中心化架构可以让我们对于资源的分配状态有一个全局的认识，从而可以优化资源的使用效率。

## 系统假设

### 编队假设

假设这样的道路场景，在一个基站 （eNodeB) 的覆盖范围内有 $M \geq 1$ 个编队。这里我们考虑编队系统运行稳态的情形，即不考虑新成员的加入和编队现有成员的离开，这意味着编队的大小 $S_i, i \in {1, \dots, M}$ 是固定的。编队的长度（包括车辆的长度和车间距）为 $L_i$。相邻车辆的间距为 $d_i$，运动速度为 $v_i$。

假设编队使用了 Predecessor-leader 控制策略。在编队 $i$ 中，信息交换以 CAM 消息的形式进行。PL 每经过 $T_i$ 秒更新一次 CAM。$T_i$ 需要不超过 100ms 的数量级以满足控制算法的需要，即 CAM 更新的频率至少要有 10 Hz。更高的 CAM 更新频率可以允许编队在一定的车间距下以更高的速度安全运行。

不同的编队可以运行在同一个车道上也可以在相邻的车道上。在前一种情况中，前一个编队的最后一辆车与后一个编队的第一辆车的距离被定义为编队间距离 ($\delta$)，这个艰巨的典型值为 40m。在后一种情况下编队间的距离可以小的多。

![](https://imgs.codewoody.com/uploads/big/b9f02ef62712b7a334b80919e74dbb59.png)

### D2D 假设

CAM 信息交换通过直接的 D2D 链路进行。基站分配给 PL 非独占的 Underlay 模式的上行链路射频资源。网络以时分双工的方式运行 (Time-division duplex, TDD) 。每 10 个 1 ms TTI 称为一个 LTE TDD 帧。上行链路帧，即 U 帧的数量和位置如下表所示。

![](https://imgs.codewoody.com/uploads/big/1d32183740422ca11c511746953832f2.png)

### 编队对于 LTE 资源的需求

我们假设一个 CAM 的大小在 50 到 500 字节之间。下图展示了为了成功传输单个的 CAM 包，每个上行帧需要包含的 RB 的数量。图中的水平线还展示了在不同的信道带宽条件下，实际每个上行帧可用的 RB 的数量 $N_{RB}$。

例如若一个 CAM 包的大小是 300 字节，那么不到 25 个 RB 就足够了。当带宽是 5 MHz 时，一个上行帧就足够传输一个 CAM 包。但是如果 CAM 包的体积更大一些，一个上行帧就不够用传输 QPSK 调制的 CAM 包了。在文章的接下来的部分我们假设 CAM 包的大小均为 300 字节。

![编队占用的 RB 数量与 CAM 包大小的关系](https://imgs.codewoody.com/uploads/big/2f382ee3ca793fd692aaed63711bc8f4.png)

## 基于 D2D 的编队 CAM 信息分发

在我们提出的机制中，**只有 PL 会与基站进行交互以获得基站分配给整个编队的通信资源**。传统的资源调度算法一般需要从用户那里获取关于链路质量，缓冲区状态等信息。在编队中，基站需要**额外**的信息，如编队的大小，车辆间距，以及 CAM 消息的大小和发送频率。我们假设 PL 和基站交互使用现有的 LTE 握手过程。然后基站中部署的资源分配算法那负责计算需要分配给编队的资源的数量。具体的资源分配算法是未来工作的内容。由于 CAM 通信的周期性，基站给出的分配方案是「半永久性」(semipersistent) 的，以避免逐 TTI 调度的额外开销。

资源分配完成以后，在每论更新过程中 CAM 分两阶段在编队内传输：1）在第一阶段，PL 将 CAM 信息传输给所有的 PM；2）在第二阶段，每个 PM 发送其 CAM 给后方的车辆，直到队尾车辆也收到了 CAM 消息。

### 第一阶段: PL to PMs

PL 以足够的高那概率广播以覆盖所有的 PM。如果编队非常长，通信范围 $R$ 只覆盖了编队长度 $L_i = [S_i - 1]d_i$ 的一部分。我们设置 $R \leq 100m$，如果通信距离太长会产生比较多的干扰。如果 PL 不能覆盖所有的 PM，那么最远处的 PM 要负责进行转发。假设转发节点的通信范围也是 $R$。PL 发送的 CAM 消息里面包含了每个PM资源分配的信息。这种用 PL 代表整个编队同基站进行交互的架构大大减少了基站的连接负载。

### 第二阶段: PM to PM

当 PM 收到了 PL 的 CAM 消息以后，PM 可以以单播的方式向其后方的 PM 发送相应的 CAM 消息。我们选择的 Predecessor-leader 控制策略允许相邻 PM 节点之间建立短距离，低延时的 D2D 连接。由于单个链路的覆盖范围很短，因此相聚一定距离的 PM 间通信可以同时进行，复用 RB 通信资源。

为了详细探讨复用的资源的具体规则，我们考虑一个如下图所示的单车道拓扑的情形。

![](https://imgs.codewoody.com/uploads/big/5831f8b7bb605963f4d42e80da279c89.png)

我们定义复用距离 $d_r$ 为能够无干扰地并发传输的链路的距离。我们只考虑距离 RX 端最近的潜在干扰源。用 $d$ 来表示每对 TX/RX 节点的间距。用 $d_I$ 表示最近的潜在干扰源 $I$ 和 RX 之间的距离。显然，$d_r = d_I + d$。最后，用 $P_{D2D}$ 表示 PM 节点的传输功率。那么在接收端的平均信噪比 (Signal-to-interference-plus-noise, SINR) 为:

$$
\gamma (d, d_I) = \frac{P_{D2D} P L_{D2D}(d)}{P_{D2D} P L_{D2D}(d_I) + N_0},
$$

其中 $PL_{D2D}$ 为 D2D 链接的路径损耗，$N_0$ 为背景噪声。这个公式中我们做了 Line-of-sight 传输假设并忽略了多径问题。将 $d_r - d$ 代入上式的 $d_I$，并让 SINR 值等于预定门限，从而可以计算出 $d_r$。

![$d_r$ 与门限 SINR 的关系](https://imgs.codewoody.com/uploads/big/dd5a97cd1edc634ea17bedd693b9c20e.png)

$d_r$ 与门限 SINR 的关系如上图所示。更加鲁棒的调制方式允许更低的 $\gamma_{D2D}$，因此可以缩小 $d_r$ 的值。这一结果可以用来指导空分复用的设计。空分复用可以在同一编队内部，不同编队之间，以及编队同其他类型的终端之间进行。例如，当 $d = 10m$，目标 SINR $\gamma_{D2D} = 0 \text{dB}$，此时复用距离超过 20m。这意味着：

1. 编队内：相聚超过 20 m 的 PM 之间可以使用相同的 RB 资源同时进行传输。
2. 编队间：编队间的距离 $\Delta$ 一般都超过 20 m，因此同一车道上的编队之间可以复用 RB 资源。不过，相邻车道上的编队之间的复用可能会变得困难，因为二者的距离可能小于 20m。
3. 同其他类型设备：距离编队 20m 以上的其他类型设备可以复用 RB。例如在高速公路场景上，行人的手持设备一般不会靠近道路设施。

## 实验验证(略)

略，直接看原文。
